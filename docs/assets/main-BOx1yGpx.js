import{c as l,l as h}from"./utils-AUT24oTU.js";class u{constructor(e,s,o,c){this.newsElement=e,this.query=s,this.counter=0,this.news=[],this.nextButton=o,this.prevButton=c,this.text=[]}async init(){this.news=await this.callNewsAPI(),this.displayNews(this.news)}async callNewsAPI(){const e=[],s=new Date;console.log(s.toISOString().split("T")[0].slice(0,7));const o=s.toISOString().split("T")[0].slice(0,7),i=`https://newsapi.org/v2/everything?q=${this.query}&from=${o}&sortBy=popularity&apiKey=c0403516282d42d1be18381f56a752d7`,t=await fetch(i),n=await l(t);return console.log(n),n.articles.forEach(r=>{e.push(r)}),e}displayNews(e){console.log(e);const s=document.createElement("h2");s.textContent=e[this.counter].title,this.newsElement.appendChild(s);const o=document.createElement("img");o.src=e[this.counter].urlToImage,o.style.width="600px",this.newsElement.appendChild(o);const c=document.createElement("p");c.innerHTML=`Source: ${e[this.counter].source.name} <br> 
        <a href="${e[this.counter].url}">${e[this.counter].url}</a>`,this.newsElement.appendChild(c),this.nextButton.addEventListener("click",()=>{if(this.counter<e.length-1){this.newsElement.innerHTML="",this.counter++;const i=document.createElement("h2");i.textContent=e[this.counter].title,this.newsElement.appendChild(i);const t=document.createElement("img");t.src=e[this.counter].urlToImage,t.style.width="600px",this.newsElement.appendChild(t);const n=document.createElement("p");n.innerHTML=`Source: ${e[this.counter].source.name} <br> 
        <a href="${e[this.counter].url}">${e[this.counter].url}</a>`,this.newsElement.appendChild(n)}}),this.prevButton.addEventListener("click",()=>{if(this.counter>0){this.newsElement.innerHTML="",this.counter--;const i=document.createElement("h2");i.textContent=e[this.counter].title,this.newsElement.appendChild(i);const t=document.createElement("img");t.src=e[this.counter].urlToImage,t.style.width="600px",this.newsElement.appendChild(t);const n=document.createElement("p");n.innerHTML=`Source: ${e[this.counter].source.name} <br> 
        <a href="${e[this.counter].url}">${e[this.counter].url}</a>`,this.newsElement.appendChild(n)}})}}h();const a=document.querySelector(".news"),m="Rio de Janeiro (Turismo)",d=document.querySelector(".next"),p=document.querySelector(".prev"),E=new u(a,m,d,p);E.init();
